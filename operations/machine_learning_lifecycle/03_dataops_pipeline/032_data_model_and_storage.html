
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Stage 3.2. Data Model and Storage &#8212; Omniverse</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=bb35926c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script src="../../../_static/tabs.js?v=3ee01567"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=36754332"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-MYW5YKC2WF"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-MYW5YKC2WF');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-MYW5YKC2WF');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'operations/machine_learning_lifecycle/03_dataops_pipeline/032_data_model_and_storage';</script>
    <link rel="canonical" href="https://www.gaohongnan.com/operations/machine_learning_lifecycle/03_dataops_pipeline/032_data_model_and_storage.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Stage 3.3. Extract, Transform, Load (ETL)" href="033_etl.html" />
    <link rel="prev" title="Stage 3.1. Data Source and Formats" href="031_data_source_and_format.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/logo.png" class="logo__image only-light" alt="Omniverse - Home"/>
    <script>document.write(`<img src="../../../_static/logo.png" class="logo__image only-dark" alt="Omniverse - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../intro.html">
                    🌌 Omniverse: A Journey Through Knowledge
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Notations</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../notations/machine_learning.html">Machine Learning Notations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Influential Ideas and Papers</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../influential/generative_pretrained_transformer/01_intro.html">Generative Pre-trained Transformers</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../influential/generative_pretrained_transformer/02_notations.html">Notations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../influential/generative_pretrained_transformer/03_concept.html">The Concept of Generative Pre-trained Transformers (GPT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../influential/generative_pretrained_transformer/04_implementation.html">The Implementation of Generative Pre-trained Transformers (GPT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../influential/generative_pretrained_transformer/05_adder.html">Training a Mini-GPT to Learn Two-Digit Addition</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Playbook</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../playbook/how_to_calculate_flops_in_gpt2.html">How to Calculate the Number of FLOPs in GPT-2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../playbook/how_to_inspect_function_and_class_signatures.html">How to Inspect Function and Class Signatures in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../playbook/why_cosine_annealing_warmup_stabilize_training.html">Why Does Cosine Annealing With Warmup Stabilize Training?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../playbook/why_softmax_preserves_order_translation_invariant_not_invariant_scaling.html">Softmax Preserves Order, Is Translation Invariant But Not Invariant Under Scaling</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Deep Learning</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../deep_learning/training_chronicles/intro.html">Training Chronicles</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../deep_learning/training_chronicles/loss.html">The Loss Landscape</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Software Engineering</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../software_engineering/devops/continuous-integration/concept.html">Continuous Integration (CI) Workflow</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../software_engineering/devops/continuous-integration/styling.html">Styling, Formatting, and Linting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../software_engineering/devops/continuous-integration/testing.html">Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_engineering/design_patterns/dependency-inversion-principle.html">Dependency Inversion Principle</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../software_engineering/concurrency_parallelism_asynchronous/intro.html">Concurrency, Parallelism and Asynchronous Programming</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../software_engineering/concurrency_parallelism_asynchronous/generator_yield.html">A Rudimentary Introduction to Generator and Yield in Python</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../software_engineering/serving/restful_api/intro.html">RESTful API</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../software_engineering/serving/restful_api/application_banking.html">Application: Designing a RESTful Banking API with FastAPI and SQLAlchemy</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Computer Science</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../computer_science/type_theory/intro.html">Type Theory, A Very Rudimentary Introduction</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/01-subtypes.html">Subtypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/02-type-safety.html">Type Safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/03-subsumption.html">Subsumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/04-generics.html">Generics and Type Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/05-typevar-bound-constraints.html">Bound and Constraint in Generics and Type Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/06-invariance-covariance-contravariance.html">Invariance, Covariance and Contravariance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/07-pep-3124-overloading.html">Function Overloading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/08-pep-661-sentinel-values.html">Sentinel Types</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Structures and Algorithms</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../dsa/complexity_analysis/intro.html">Complexity Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../dsa/complexity_analysis/master_theorem.html">Master Theorem </a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../dsa/stack/intro.html">Stack</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../dsa/stack/concept.html">Concept</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../dsa/searching_algorithms/linear_search/intro.html">Linear Search</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../dsa/searching_algorithms/linear_search/concept.html">Concept</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../dsa/searching_algorithms/binary_search/intro.html">Binary Search</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../dsa/searching_algorithms/binary_search/concept.html">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../dsa/searching_algorithms/binary_search/problems/875-koko-eating-bananas.html">Koko Eating Bananas</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Linear Algebra</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../linear_algebra/01_preliminaries/intro.html">Preliminaries</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/01_preliminaries/01-fields.html">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/01_preliminaries/02-systems-of-linear-equations.html">Systems of Linear Equations</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../linear_algebra/02_vectors/intro.html">Vectors</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/02_vectors/01-vector-definition.html">Vector and Its Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/02_vectors/02-vector-operation.html">Vector and Its Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/02_vectors/03-vector-norm.html">Vector Norm and Distance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/02_vectors/04-vector-products.html">A First Look at Vector Products</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Operations</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../00_intro.html">The Lifecycle of an AIOps System</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../01_problem_formulation.html">Stage 1. Problem Formulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02_project_scoping.html">Stage 2. Project Scoping And Framing The Problem</a></li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="03_dataops_pipeline.html">Stage 3. Data Pipeline (Data Engineering and DataOps)</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="031_data_source_and_format.html">Stage 3.1. Data Source and Formats</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Stage 3.2. Data Model and Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="033_etl.html">Stage 3.3. Extract, Transform, Load (ETL)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../04_mlops_data_pipeline.html">Stage 4. Data Extraction (MLOps), Data Analysis (Data Science), Data Preparation (Data Science)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../05_model_development_selection_and_training/05_ml_training_pipeline.html">Stage 5. Model Development and Training (MLOps)</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../05_model_development_selection_and_training/051_model_selection.html">Stage 5.1. Model Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../05_model_development_selection_and_training/052_metric_selection.html">Stage 5.2. Metric Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../05_model_development_selection_and_training/053_experiment_tracking.html">Stage 5.3. Experiment Tracking And Versioning</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../distributed/intro.html">Distributed Systems</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../distributed/01_notations.html">Notations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../distributed/02_basics.html">Basics Of Distributed Data Parallelism</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References, Resources and Roadmap</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../citations.html">IEEE (Style) Citations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../api/reproducibility.html">API Reference</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/gao-hongnan/omniverse/blob/main/omniverse/operations/machine_learning_lifecycle/03_dataops_pipeline/032_data_model_and_storage.md" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/gao-hongnan/omniverse" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/gao-hongnan/omniverse/issues/new?title=Issue%20on%20page%20%2Foperations/machine_learning_lifecycle/03_dataops_pipeline/032_data_model_and_storage.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/operations/machine_learning_lifecycle/03_dataops_pipeline/032_data_model_and_storage.ipynb" target="_blank"
   class="btn btn-sm btn-download-notebook-button dropdown-item"
   title="Download notebook file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li><a href="../../../_sources/operations/machine_learning_lifecycle/03_dataops_pipeline/032_data_model_and_storage.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Stage 3.2. Data Model and Storage</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-model">Data Model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-of-a-data-model">Example of a Data Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#relational-model">Relational Model</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#normalization">Normalization</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#imperative-vs-declarative">Imperative vs Declarative</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nosql">NoSQL</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#document-model">Document Model</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#advantages">Advantages</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#disadvantages">Disadvantages</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#graph-model">Graph Model</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#structured-vs-unstructured-data">Structured vs Unstructured Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-storage-engines">Data Storage Engines</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transactional-and-analytical-processing-databases">Transactional And Analytical Processing Databases</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transactional-processing">Transactional Processing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#atomicity-consistency-isolation-durability-acid">Atomicity, Consistency, Isolation, Durability (ACID)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transactional-databases-are-row-major">Transactional Databases Are Row-Major</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analytical-processing">Analytical Processing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-lake-data-warehouse-data-lakehouse-delta-lake">Data Lake, Data Warehouse, Data Lakehouse, Delta Lake</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vector-database-a-high-dimensional-playground-for-large-language-models">Vector Database (A High-dimensional Playground for Large Language Models)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-readings">References and Further Readings</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="stage-3-2-data-model-and-storage">
<h1>Stage 3.2. Data Model and Storage<a class="headerlink" href="#stage-3-2-data-model-and-storage" title="Link to this heading">#</a></h1>
<p><a class="reference external" href="https://twitter.com/gaohongnan"><img alt="Twitter Handle" src="https://img.shields.io/badge/Twitter-&#64;gaohongnan-blue?style=social&amp;logo=twitter" /></a>
<a class="reference external" href="https://linkedin.com/in/gao-hongnan"><img alt="LinkedIn Profile" src="https://img.shields.io/badge/&#64;gaohongnan-blue?style=social&amp;logo=linkedin" /></a>
<a class="reference external" href="https://github.com/gao-hongnan"><img alt="GitHub Profile" src="https://img.shields.io/badge/GitHub-gao--hongnan-lightgrey?style=social&amp;logo=github" /></a>
<img alt="Tag" src="https://img.shields.io/badge/Tag-Brain_Dump-red" />
<img alt="Tag" src="https://img.shields.io/badge/Level-Beginner-green" /></p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#data-model" id="id5">Data Model</a></p>
<ul>
<li><p><a class="reference internal" href="#example-of-a-data-model" id="id6">Example of a Data Model</a></p></li>
<li><p><a class="reference internal" href="#relational-model" id="id7">Relational Model</a></p>
<ul>
<li><p><a class="reference internal" href="#normalization" id="id8">Normalization</a></p></li>
<li><p><a class="reference internal" href="#imperative-vs-declarative" id="id9">Imperative vs Declarative</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#nosql" id="id10">NoSQL</a></p>
<ul>
<li><p><a class="reference internal" href="#document-model" id="id11">Document Model</a></p>
<ul>
<li><p><a class="reference internal" href="#examples" id="id12">Examples</a></p></li>
<li><p><a class="reference internal" href="#advantages" id="id13">Advantages</a></p></li>
<li><p><a class="reference internal" href="#disadvantages" id="id14">Disadvantages</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#graph-model" id="id15">Graph Model</a></p>
<ul>
<li><p><a class="reference internal" href="#example" id="id16">Example</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#structured-vs-unstructured-data" id="id17">Structured vs Unstructured Data</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#data-storage-engines" id="id18">Data Storage Engines</a></p>
<ul>
<li><p><a class="reference internal" href="#transactional-and-analytical-processing-databases" id="id19">Transactional And Analytical Processing Databases</a></p></li>
<li><p><a class="reference internal" href="#transactional-processing" id="id20">Transactional Processing</a></p></li>
<li><p><a class="reference internal" href="#atomicity-consistency-isolation-durability-acid" id="id21">Atomicity, Consistency, Isolation, Durability (ACID)</a></p></li>
<li><p><a class="reference internal" href="#transactional-databases-are-row-major" id="id22">Transactional Databases Are Row-Major</a></p></li>
<li><p><a class="reference internal" href="#analytical-processing" id="id23">Analytical Processing</a></p></li>
<li><p><a class="reference internal" href="#data-lake-data-warehouse-data-lakehouse-delta-lake" id="id24">Data Lake, Data Warehouse, Data Lakehouse, Delta Lake</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#vector-database-a-high-dimensional-playground-for-large-language-models" id="id25">Vector Database (A High-dimensional Playground for Large Language Models)</a></p></li>
<li><p><a class="reference internal" href="#references-and-further-readings" id="id26">References and Further Readings</a></p></li>
</ul>
</nav>
<p>As we see shortly in the next few sections, once the data source is defined,
before we even start extracting the data, we need to know what kind of data we
are dealing with and <strong>how</strong> and <strong>where</strong> we are going to store it.</p>
<section id="data-model">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Data Model</a><a class="headerlink" href="#data-model" title="Link to this heading">#</a></h2>
<p>A data model is a collection of concepts for describing data, data
relationships, data semantics, and consistency constraints. It is a way to
describe the data that you are storing in your database.</p>
<section id="example-of-a-data-model">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Example of a Data Model</a><a class="headerlink" href="#example-of-a-data-model" title="Link to this heading">#</a></h3>
<p>In Chip Huyen’s book <em>Designing Machine Learning Systems</em>, she gave an intuitive
example on using cars data and features as a data model where you can represent
a car by its model (car’s model not the data model), its year, its color and its
price. This collection of description is a data model. You can also represent it
as a table with its owner’s name, its license plate number and its history. This
is also a data model.</p>
<p>Both data models are valid, but the former helps target users who are looking
for a car to buy, and the latter helps target users who are looking for a car to
rent (i.e. if the history of the car rings any bells).</p>
<table class="table" id="ml-lifecycle-032-car-data-model">
<caption><span class="caption-number">Table 30 </span><span class="caption-text">Car Data Model Characteristics</span><a class="headerlink" href="#ml-lifecycle-032-car-data-model" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Data Model</p></th>
<th class="head"><p>Focus</p></th>
<th class="head"><p>Suitable For</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Model 1</p></td>
<td><p>Car characteristics</p></td>
<td><p>Potential car buyers searching for cars based on preferences</p></td>
</tr>
<tr class="row-odd"><td><p>Model 2</p></td>
<td><p>Ownership &amp; registration</p></td>
<td><p>Law enforcement agencies tracking down criminals using vehicles</p></td>
</tr>
</tbody>
</table>
</section>
<section id="relational-model">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Relational Model</a><a class="headerlink" href="#relational-model" title="Link to this heading">#</a></h3>
<p>A relational model is a data model used to represent and manage data in
relational databases. It was first proposed by Edgar F. Codd in 1970 and has
since become the foundation for most modern database management systems. The
relational model organizes data into tables, also known as relations, which
consist of rows and columns.</p>
<p>Each table represents an entity (e.g., a person, a product, or an order), and
each row in the table represents an instance or record of that entity. The
columns define the attributes or properties of the entity, such as name, age, or
price.</p>
<p>The relational model emphasizes the importance of relationships between tables,
which are established using primary and foreign keys. A primary key is a unique
identifier for each record within a table, while a foreign key is an attribute
in one table that refers to the primary key in another table. These keys enable
efficient querying and manipulation of data across multiple tables, allowing for
complex data retrieval and analysis.</p>
<p>Some key features of the relational model include:</p>
<ul class="simple">
<li><p>Data integrity: The relational model enforces rules and constraints to
maintain the accuracy and consistency of data within the database.</p></li>
<li><p>Normalization: Data is organized in a way that minimizes redundancy and
ensures efficient storage and retrieval.</p></li>
<li><p>ACID (Atomicity, Consistency, Isolation, Durability) properties: Relational
databases guarantee transactional integrity, ensuring that data remains
consistent and stable even in the event of failures or concurrent access.</p></li>
</ul>
<p>SQL (Structured Query Language) is the standard language used to interact with
relational databases, allowing users to create, read, update, and delete data
within the database.</p>
<section id="normalization">
<h4><a class="toc-backref" href="#id8" role="doc-backlink">Normalization</a><a class="headerlink" href="#normalization" title="Link to this heading">#</a></h4>
<p>Chip also mentioned that relational models are just a table with rows as tuples,
where tuples hold the record of each row. Relations can be unordered and thus
shuffling either the rows or the columns doesn’t change the meaning of the data.
CSV and Parquet are both relational models.</p>
<p>The author mentioned that it is desirable for relations to be
<a class="reference external" href="https://en.wikipedia.org/wiki/Database_normalization"><strong>normalized</strong></a>. We quote
a clear example on what it means for normalization and how it reduces data
redundancy and improve on data integrity.</p>
<div class="proof example admonition" id="ml-lifecycle-032-normalization">
<p class="admonition-title"><span class="caption-number">Example 14 </span> (Normalization)</p>
<section class="example-content" id="proof-content">
<p>Consider the relation Book shown in Table 3-2. There are a lot of duplicates in
this data. For example, rows 1 and 2 are nearly identical, except for format and
price. If the publisher information changes-for example, its name changes from
“Banana Press” to “Pineapple Press”-or its country changes, we’ll have to update
rows 1, 2, and 4. If we separate publisher information into its own table, as
shown in Tables 3-3 and 3-4, when a publisher’s information changes, we only
have to update the Publisher relation. This practice allows us to standardize
spelling of the same value across different columns. It also makes it easier to
make changes to these values, either because these values change or when you
want to translate them into different languages.</p>
<table class="table" id="ml-lifecycle-032-initial-book-relation">
<caption><span class="caption-number">Table 31 </span><span class="caption-text">Initial Book Relation</span><a class="headerlink" href="#ml-lifecycle-032-initial-book-relation" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Title</p></th>
<th class="head"><p>Author</p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Publisher</p></th>
<th class="head"><p>Country</p></th>
<th class="head"><p>Price</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Harry Potter</p></td>
<td><p>J.K. Rowling</p></td>
<td><p>Paperback</p></td>
<td><p>Banana Press</p></td>
<td><p>UK</p></td>
<td><p>$20</p></td>
</tr>
<tr class="row-odd"><td><p>Harry Potter</p></td>
<td><p>J.K. Rowling</p></td>
<td><p>E-book</p></td>
<td><p>Banana Press</p></td>
<td><p>UK</p></td>
<td><p>$10</p></td>
</tr>
<tr class="row-even"><td><p>Sherlock Holmes</p></td>
<td><p>Conan Doyle</p></td>
<td><p>Paperback</p></td>
<td><p>Guava Press</p></td>
<td><p>US</p></td>
<td><p>$30</p></td>
</tr>
<tr class="row-odd"><td><p>The Hobbit</p></td>
<td><p>J.R.R. Tolkien</p></td>
<td><p>Paperback</p></td>
<td><p>Banana Press</p></td>
<td><p>UK</p></td>
<td><p>$30</p></td>
</tr>
<tr class="row-even"><td><p>Sherlock Holmes</p></td>
<td><p>Conan Doyle</p></td>
<td><p>Paperback</p></td>
<td><p>Guava Press</p></td>
<td><p>US</p></td>
<td><p>$15</p></td>
</tr>
</tbody>
</table>
<table class="table" id="ml-lifecycle-032-updated-book-relation">
<caption><span class="caption-number">Table 32 </span><span class="caption-text">Updated Book Relation</span><a class="headerlink" href="#ml-lifecycle-032-updated-book-relation" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Title</p></th>
<th class="head"><p>Author</p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Publisher ID</p></th>
<th class="head"><p>Price</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Harry Potter</p></td>
<td><p>J.K. Rowling</p></td>
<td><p>Paperback</p></td>
<td><p>1</p></td>
<td><p>$20</p></td>
</tr>
<tr class="row-odd"><td><p>Harry Potter</p></td>
<td><p>J.K. Rowling</p></td>
<td><p>E-book</p></td>
<td><p>1</p></td>
<td><p>$10</p></td>
</tr>
<tr class="row-even"><td><p>Sherlock Holmes</p></td>
<td><p>Conan Doyle</p></td>
<td><p>Paperback</p></td>
<td><p>2</p></td>
<td><p>$30</p></td>
</tr>
<tr class="row-odd"><td><p>The Hobbit</p></td>
<td><p>J.R.R. Tolkien</p></td>
<td><p>Paperback</p></td>
<td><p>1</p></td>
<td><p>$30</p></td>
</tr>
<tr class="row-even"><td><p>Sherlock Holmes</p></td>
<td><p>Conan Doyle</p></td>
<td><p>Paperback</p></td>
<td><p>2</p></td>
<td><p>$15</p></td>
</tr>
</tbody>
</table>
<table class="table" id="ml-lifecycle-032-publisher-relation">
<caption><span class="caption-number">Table 33 </span><span class="caption-text">Publisher Relation</span><a class="headerlink" href="#ml-lifecycle-032-publisher-relation" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Publisher ID</p></th>
<th class="head"><p>Publisher</p></th>
<th class="head"><p>Country</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Banana Press</p></td>
<td><p>UK</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Guava Press</p></td>
<td><p>US</p></td>
</tr>
</tbody>
</table>
<p>The downside is now you have 2 tables to maintain, which require you to join
them together to get the full picture.</p>
</section>
</div><p>Databases built around this relational concept are called relational databases
(e.g. MySQL, PostgreSQL, etc.).</p>
</section>
<section id="imperative-vs-declarative">
<h4><a class="toc-backref" href="#id9" role="doc-backlink">Imperative vs Declarative</a><a class="headerlink" href="#imperative-vs-declarative" title="Link to this heading">#</a></h4>
<p>Imperative programming is when you tell the computer what to do step by step and
it executes it to get the output. Declarative programming is when you tell the
computer what you want and it figures out how to get it. Relational databases
are declarative while languages such as Python are imperative.</p>
<p>SQL is inherently declarative. When you write an SQL query, you specify <em>what</em>
result you want, not <em>how</em> to achieve it. The database engine decides the best
way to execute the query.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">Users</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>
</pre></div>
</div>
<p>If you were to implement the same functionality imperatively, as you might in
Python, you would need to write detailed instructions to specify how to filter
and sort the data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Union</span>

<span class="n">users</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">31</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Carol&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">34</span><span class="p">}]</span>

<span class="k">def</span> <span class="nf">get_sorted_users_by_age</span><span class="p">(</span><span class="n">users</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]:</span>
    <span class="n">filtered_users</span> <span class="o">=</span> <span class="p">[</span><span class="n">user</span> <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span> <span class="k">if</span> <span class="n">user</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">]</span>
    <span class="n">sorted_users</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">filtered_users</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sorted_users</span>

<span class="n">sorted_users</span> <span class="o">=</span> <span class="n">get_sorted_users</span><span class="p">(</span><span class="n">users</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="nosql">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">NoSQL</a><a class="headerlink" href="#nosql" title="Link to this heading">#</a></h3>
<p>One of the main reason that calls for the need for NoSQL databases is due to
relational databases’ strict schema enforcement and is a major pain point for
many applications. On the other hand, NoSQL databases generally do not enforce a
fixed schema, which means the data structure can evolve as the application’s
requirements change. This flexibility is particularly useful for handling
unstructured or semi-structured data, such as text, multimedia, or JSON
documents.</p>
<section id="document-model">
<h4><a class="toc-backref" href="#id11" role="doc-backlink">Document Model</a><a class="headerlink" href="#document-model" title="Link to this heading">#</a></h4>
<p>The document model is a part of NoSQL databases. NoSQL databases encompass
various data models, including document, graph, key-value, and column-family
stores.</p>
<p>The document model is one such NoSQL data model where data is stored as
documents, usually in formats like JSON, XML, or BSON (Binary JSON). The
document model provides a flexible and schema-less structure, making it easier
to handle diverse or changing data requirements. This flexibility, along with
better locality, makes the document model a popular choice for many
applications. However, it may not be the best fit for every use case, as
performing complex joins or queries can be more difficult and less efficient
compared to relational databases.</p>
<p>In summary, the document model is a part of NoSQL databases, which provide
alternative data models to address specific needs not effectively met by
traditional relational databases.</p>
<table class="table" id="ml-lifecycle-032-document-model">
<caption><span class="caption-number">Table 34 </span><span class="caption-text">Document Model Characteristics</span><a class="headerlink" href="#ml-lifecycle-032-document-model" title="Link to this table">#</a></caption>
<tbody>
<tr class="row-odd"><td><p>Built around the concept of “document”</p></td>
</tr>
<tr class="row-even"><td><p>Documents encoded in formats like JSON, XML, or BSON</p></td>
</tr>
<tr class="row-odd"><td><p>Unique key represents each document</p></td>
</tr>
<tr class="row-even"><td><p>Collections of documents analogous to tables in relational databases</p></td>
</tr>
<tr class="row-odd"><td><p>Greater flexibility as documents in the same collection can have
different schemas</p></td>
</tr>
<tr class="row-even"><td><p>Better locality than the relational model because all information about
a document is stored within a single document, where in a relational
model, you might need to perform joins across multiple tables to gather
all the information related to a document.</p></td>
</tr>
</tbody>
</table>
<section id="examples">
<h5><a class="toc-backref" href="#id12" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Link to this heading">#</a></h5>
<p>Recall the tables <a class="reference internal" href="#ml-lifecycle-032-updated-book-relation"><span class="std std-numref">Table 32</span></a> and
<a class="reference internal" href="#ml-lifecycle-032-publisher-relation"><span class="std std-numref">Table 33</span></a>, we can now convert them into
three JSON documents as show below.</p>
<ol class="arabic">
<li><p>Document 1: Title of Harry Potter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;Title&quot;</span><span class="p">:</span> <span class="s2">&quot;Harry Potter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Author&quot;</span><span class="p">:</span> <span class="s2">&quot;J.K. Rowling&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Publisher&quot;</span><span class="p">:</span> <span class="s2">&quot;Banana Press&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Country&quot;</span><span class="p">:</span> <span class="s2">&quot;UK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SoldAs&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;Format&quot;</span><span class="p">:</span> <span class="s2">&quot;Paperback&quot;</span><span class="p">,</span> <span class="s2">&quot;Price&quot;</span><span class="p">:</span> <span class="s2">&quot;$20&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;Format&quot;</span><span class="p">:</span> <span class="s2">&quot;E-book&quot;</span><span class="p">,</span> <span class="s2">&quot;Price&quot;</span><span class="p">:</span> <span class="s2">&quot;$10&quot;</span><span class="p">},</span>
    <span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Document 2: Title of Sherlock Holmes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;Title&quot;</span><span class="p">:</span> <span class="s2">&quot;Sherlock Holmes&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Author&quot;</span><span class="p">:</span> <span class="s2">&quot;Conan Doyle&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Publisher&quot;</span><span class="p">:</span> <span class="s2">&quot;Guava Press&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Country&quot;</span><span class="p">:</span> <span class="s2">&quot;US&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SoldAs&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;Format&quot;</span><span class="p">:</span> <span class="s2">&quot;Paperback&quot;</span><span class="p">,</span> <span class="s2">&quot;Price&quot;</span><span class="p">:</span> <span class="s2">&quot;$30&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;Format&quot;</span><span class="p">:</span> <span class="s2">&quot;E-book&quot;</span><span class="p">,</span> <span class="s2">&quot;Price&quot;</span><span class="p">:</span> <span class="s2">&quot;$15&quot;</span><span class="p">},</span>
    <span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Document 3: Title of The Hobbit.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;Title&quot;</span><span class="p">:</span> <span class="s2">&quot;The Hobbit&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Author&quot;</span><span class="p">:</span> <span class="s2">&quot;J.R.R. Tolkien&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Publisher&quot;</span><span class="p">:</span> <span class="s2">&quot;Banana Press&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Country&quot;</span><span class="p">:</span> <span class="s2">&quot;UK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SoldAs&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;Format&quot;</span><span class="p">:</span> <span class="s2">&quot;Paperback&quot;</span><span class="p">,</span> <span class="s2">&quot;Price&quot;</span><span class="p">:</span> <span class="s2">&quot;$30&quot;</span><span class="p">}],</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="advantages">
<h5><a class="toc-backref" href="#id13" role="doc-backlink">Advantages</a><a class="headerlink" href="#advantages" title="Link to this heading">#</a></h5>
<p>This format, which represents the data as JSON documents in a document model,
can be better for certain use cases due to the following reasons:</p>
<ol class="arabic simple">
<li><p><strong>Flexibility</strong>: Unlike relational databases, the document model allows each
document to have a different schema. This means that you can store different
attributes for each book without having to modify the structure of the entire
database.</p></li>
<li><p><strong>Better locality</strong>: In the document model, all information about a book is
stored within a single document, making it easier to retrieve. In a
relational model, you might need to perform joins across multiple tables to
gather all the information related to a book, which can be more
time-consuming and computationally expensive.</p></li>
<li><p><strong>Schema-less</strong>: Although the term “schema-less” can be misleading, it
signifies that document databases do not enforce a strict schema like
relational databases. This allows for more flexibility when dealing with data
that does not fit neatly into predefined structures.</p></li>
</ol>
</section>
<section id="disadvantages">
<h5><a class="toc-backref" href="#id14" role="doc-backlink">Disadvantages</a><a class="headerlink" href="#disadvantages" title="Link to this heading">#</a></h5>
<p>In the document model, to find all books with prices below <span class="math notranslate nohighlight">\(25, you would have
to iterate through each document, examine the `SoldAs` array, and compare the
prices to \)</span>25. If the price is below $25, you can return or store the document
for further processing.</p>
<p>This approach can be less efficient compared to using a relational model, where
you can use a simple SQL query with a WHERE clause to filter the books based on
the price condition. The SQL query would be more concise and potentially more
efficient in terms of execution time.</p>
<p>However, the trade-offs between the document and relational models depend on the
specific use case and data requirements. The document model can be more suitable
for applications that require flexibility, better locality, and do not
frequently perform complex joins. On the other hand, a relational model can be
more appropriate for applications that rely heavily on structured data and
require the ability to perform complex queries and joins efficiently.</p>
</section>
</section>
<section id="graph-model">
<h4><a class="toc-backref" href="#id15" role="doc-backlink">Graph Model</a><a class="headerlink" href="#graph-model" title="Link to this heading">#</a></h4>
<p>The graph model is another type of NoSQL data model that is specifically
designed for handling highly interconnected data. In this model, data is
represented as nodes (or vertices) and edges, where nodes represent entities and
edges represent the relationships between those entities. Graph databases can
efficiently model complex relationships and perform traversals, making them
ideal for use cases where relationships between data items are common and
important.</p>
<p>With all the hype of vector databases nowadays, we see graph databases such as
Neo4j to resurface as a popular choice for handling highly interconnected data
and build knowledge graphs.</p>
<p>Some key features of graph databases are:</p>
<ol class="arabic simple">
<li><p><strong>Nodes</strong>: Nodes are the primary entities in a graph database, representing
objects such as people, products, or locations. Each node can have
properties, which are key-value pairs that provide additional information
about the node.</p></li>
<li><p><strong>Edges</strong>: Edges (or relationships) are the connections between nodes,
representing various types of relationships between entities. Edges can also
have properties, allowing for the storage of additional information about the
relationship, such as weights or timestamps.</p></li>
<li><p><strong>Graph traversal</strong>: One of the main strengths of graph databases is their
ability to efficiently perform graph traversal operations. This allows for
queries that involve multiple levels of relationships, such as finding the
shortest path between two nodes or identifying all nodes within a certain
distance of a specific node.</p></li>
<li><p><strong>Index-free adjacency</strong>: Graph databases use index-free adjacency, meaning
that each node directly references its adjacent nodes. This allows for faster
traversal operations, as there is no need to perform expensive index lookups
to find related nodes.</p></li>
<li><p><strong>Schema flexibility</strong>: Like other NoSQL databases, graph databases generally
offer more flexibility in terms of schema compared to relational databases.
This makes it easier to adapt to changing data requirements or evolving
relationships between entities.</p></li>
</ol>
<p>Some common use cases for graph databases include:</p>
<ul class="simple">
<li><p>Social networks: Graph databases can efficiently model the relationships
between users, such as friends, followers, or interests.</p></li>
<li><p>Recommendation systems: By modeling user preferences and item relationships,
graph databases can be used to generate personalized recommendations.</p></li>
<li><p>Fraud detection: By analyzing relationships and patterns within
transactional data, graph databases can help identify suspicious activity.</p></li>
<li><p>Knowledge graphs: Graph databases can represent and store complex
relationships between entities in a knowledge domain, making it easier to
perform advanced queries and infer new information.</p></li>
</ul>
<section id="example">
<h5><a class="toc-backref" href="#id16" role="doc-backlink">Example</a><a class="headerlink" href="#example" title="Link to this heading">#</a></h5>
<p>The data from this example could potentially come from a simple social network.
In this graph, nodes can be of different data types: person, city, country,
company, etc. Imagine you want to find everyone who was born in the USA. Given
this graph, you can start from the node USA and traverse the graph following the
edges “within” and “born_in” to find all the nodes of the type “person.” Now,
imagine that instead of using the graph model to represent this data, we use the
relational model. There’d be no easy way to write an SQL query to find everyone
who was born in the USA, especially given that there are an unknown number of
hops between country and person—there are three hops between Zhenzhong Xu and
USA while there are only two hops between Chloe He and USA. Similarly, there’d
be no easy way for this type of query with a document database<a class="footnote-reference brackets" href="#chip-1" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<figure class="align-default" id="ml-lifecycle-032-graph-model">
<a class="reference internal image-reference" href="../../../_images/chip_fig3.5.png"><img alt="../../../_images/chip_fig3.5.png" src="../../../_images/chip_fig3.5.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 27 </span><span class="caption-text">An example of a simple graph database. Image Credit: Huyen, Chip. Designing
Machine Learning Systems: An Iterative Process for Production-Ready
Applications, O’Reilly Media, Inc., 2022.</span><a class="headerlink" href="#ml-lifecycle-032-graph-model" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="structured-vs-unstructured-data">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Structured vs Unstructured Data</a><a class="headerlink" href="#structured-vs-unstructured-data" title="Link to this heading">#</a></h3>
<p>Structured data follows a predefined data model (data schema) and unstructured
data does not.</p>
<ul class="simple">
<li><p>Structured data is easier to query and analyze because you predefine the
data schema.</p></li>
<li><p>For example, if your data model has two column, <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">age</span></code>, where
<code class="docutils literal notranslate"><span class="pre">name</span></code> is a string not longer than 100 characters and <code class="docutils literal notranslate"><span class="pre">age</span></code> is an integer
between 0 and 120, then you can safely average the <code class="docutils literal notranslate"><span class="pre">age</span></code> column without
worrying about if <code class="docutils literal notranslate"><span class="pre">age</span></code> is a string.</p></li>
<li><p>The downside is now you are committed to this schema, so if you want to
change or add new stuff, you have to <strong>retrospecitively</strong> update all your
past data, causing errors and inconsistencies in the process.</p></li>
<li><p>Unstructured data on the other hand can be anything. For example, the logs
of your model is a text containing a lot of information, and it is
unstructured. Another example is the medical report of a CT scan of
patients, which consists of a lot of images and text written by doctors.
Those are unstructured data.</p></li>
<li><p>One distinction is for structured data, the code that <strong>writes</strong> the data
into the database has to adhere to the schema structure, while for
unstructured data, the code that <strong>reads</strong> the data from the database has to
adhere to the schema structure<a class="footnote-reference brackets" href="#chip-1" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. Writing unstructured data is easy,
but when reading you must be very sure of what the data structure is.</p></li>
</ul>
<p>Data warehouse is a collection of structured data, while data lake is a
collection of unstructured data. Data lakes are usually used to store raw data
prior to being processed by data pipelines. Data warehouses are usually used to
store processed data for analysis.</p>
<table class="table" id="ml-lifecycle-032-structured-vs-unstructured-data">
<caption><span class="caption-number">Table 35 </span><span class="caption-text">Key Differences Between Structured And Unstructured Data</span><a class="headerlink" href="#ml-lifecycle-032-structured-vs-unstructured-data" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Structured Data</p></th>
<th class="head"><p>Unstructured Data</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Schema clearly defined</p></td>
<td><p>Data doesn’t have to follow a schema</p></td>
</tr>
<tr class="row-odd"><td><p>Easy to search and analyze</p></td>
<td><p>Fast arrival</p></td>
</tr>
<tr class="row-even"><td><p>Can only handle data with a specific schema</p></td>
<td><p>Can handle data from any source</p></td>
</tr>
<tr class="row-odd"><td><p>Schema changes will cause a lot of troubles</p></td>
<td><p>No need to worry about schema changes (yet), as the worry is shifted to
the downstream applications that use this data</p></td>
</tr>
<tr class="row-even"><td><p>Stored in data warehouses</p></td>
<td><p>Stored in data lakes</p></td>
</tr>
<tr class="row-odd"><td><p>Structure is assumed at write time</p></td>
<td><p>Structure is assumed at read time</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="data-storage-engines">
<h2><a class="toc-backref" href="#id18" role="doc-backlink">Data Storage Engines</a><a class="headerlink" href="#data-storage-engines" title="Link to this heading">#</a></h2>
<section id="transactional-and-analytical-processing-databases">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Transactional And Analytical Processing Databases</a><a class="headerlink" href="#transactional-and-analytical-processing-databases" title="Link to this heading">#</a></h3>
<p>The concept of transactional and analytical processing databases is hazy to
those who are not familiar with the underlying concept of data storage engines.
As someone who is not familiar with the concept, one might wonder what’s the
difference between the two - for example, if I tell you that PostgreSQL is a
transactional processing database, and Amazon Redshift is an analytical
processing database, what does that mean? Don’t they both “query” data
similarly? Let’s again refer to Chip Huyen’s book <em>Designing Machine Learning
Systems</em> for a clear explanation.</p>
</section>
<section id="transactional-processing">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Transactional Processing</a><a class="headerlink" href="#transactional-processing" title="Link to this heading">#</a></h3>
<p>Firstly, we understand the idea of transactional processing databases. One who
might have done some API development might be familiar with the concept of
transactions through the lens of CRUD operations. For example, when a banking
customer checks their balance, the operation involves a “read” transaction. This
transaction interacts with the database to retrieve the requested information,
such as the account balance. And for “create” transactions, when a customer
transfers money from one account to another, the operation involves a “write”
transaction. This transaction interacts with the database to update the account
balances accordingly. This type of processing is what we call <em>online
transaction processing</em> (OLTP)<a class="footnote-reference brackets" href="#chip-1" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
</section>
<section id="atomicity-consistency-isolation-durability-acid">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Atomicity, Consistency, Isolation, Durability (ACID)</a><a class="headerlink" href="#atomicity-consistency-isolation-durability-acid" title="Link to this heading">#</a></h3>
<p>As we can see, transactional processing databases are designed to handle
user-facing operations that require real-time responses and maintain the
integrity of the data. These databases adhere to the ACID properties, which
ensure that transactions satisfy crucial operational requirements such as <em>low
latency</em>, <em>high availability</em>, and <em>data consistency</em>.</p>
<table class="table" id="ml-lifecycle-032-acid-properties">
<caption><span class="caption-number">Table 36 </span><span class="caption-text">ACID Properties</span><a class="headerlink" href="#ml-lifecycle-032-acid-properties" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Atomicity</p></td>
<td><p>Ensures that a transaction is treated as a single unit of work, either
fully completed or fully rolled back in case of failure. As an example,
if a user book an uber ride, we might trigger a single transaction but
involving several operations such as reading the user’s account balance,
deducting the fare, and updating the account balance. If any of these
operations fail, the entire transaction fails. I mean if you read the
user’s account balance and he has 0 dollars, yet you still deduct the
fare, that’s a problem.</p></td>
</tr>
<tr class="row-odd"><td><p>Consistency</p></td>
<td><p>Ensures that the database remains in a consistent state before and after
the transaction, maintaining all predefined rules, such as data
integrity constraints and business rules. For example, in a bank, a
user’s account must not go below zero after a transaction - the
no-overdraft rule.</p></td>
</tr>
<tr class="row-even"><td><p>Isolation</p></td>
<td><p>Ensures that multiple transactions can run concurrently without
interfering with each other. For example, if two users try to book the
same uber ride at the same time, the system should ensure that each
user’s transaction is isolated from the other, and not be assigned the
same driver.</p></td>
</tr>
<tr class="row-odd"><td><p>Durability</p></td>
<td><p>Ensures that once a transaction is committed, its changes are
permanently stored and cannot be lost, even in the event of a system
failure. For example, if a user successfully books an uber ride, the
system must ensure that the booking is recorded and cannot be lost due
to a power outage or server crash.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="transactional-databases-are-row-major">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">Transactional Databases Are Row-Major</a><a class="headerlink" href="#transactional-databases-are-row-major" title="Link to this heading">#</a></h3>
<p>Traditional transactional databases are row-major, meaning that they are
optimized for reading and writing individual rows of data. This design is
well-suited for handling OLTP workloads, where transactions typically involve
small, granular operations on individual records. However, when it comes to
analyzing large volumes of data or running complex queries that involve
aggregations, joins, and filtering, row-major databases may not be the most
efficient choice. For example, if you want to calculate the average age of all
users in a database, a row-major database would need to scan through every row
to compute the result, which can be slow and resource-intensive. This is where
analytical processing databases come into play.</p>
</section>
<section id="analytical-processing">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">Analytical Processing</a><a class="headerlink" href="#analytical-processing" title="Link to this heading">#</a></h3>
<p>Analytical processing databases are designed to handle complex queries that
involve aggregations, joins, and filtering on large datasets. These databases
are usually multi-dimensional and are very efficient. We denote this type of
processing as <em>online analytical processing</em> (OLAP)<a class="footnote-reference brackets" href="#chip-1" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p>However, modern databases can handle both transactional and analytical workloads
(i.e. CockroachDB, Amazon Iceberg, etc.).</p>
</section>
<section id="data-lake-data-warehouse-data-lakehouse-delta-lake">
<h3><a class="toc-backref" href="#id24" role="doc-backlink">Data Lake, Data Warehouse, Data Lakehouse, Delta Lake</a><a class="headerlink" href="#data-lake-data-warehouse-data-lakehouse-delta-lake" title="Link to this heading">#</a></h3>
<table class="table" id="ml-lifecycle-032-data-lake-vs-data-warehouse">
<caption><span class="caption-number">Table 37 </span><span class="caption-text">Data Lake, Data Warehouse, Data Lakehouse, Delta Lake</span><a class="headerlink" href="#ml-lifecycle-032-data-lake-vs-data-warehouse" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Definition</p></th>
<th class="head"><p>Examples</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Data Lake</p></td>
<td><p>A centralized repository that allows you to store all your structured
and unstructured data at any scale, in its native format, without
requiring a predefined schema.</p></td>
<td><p>Amazon S3, Azure Data Lake Storage</p></td>
</tr>
<tr class="row-odd"><td><p>Data Warehouse</p></td>
<td><p>A system used for reporting and data analysis, acting as a central
repository of integrated data from one or more disparate sources,
structured for easy access and analysis.</p></td>
<td><p>Amazon Redshift, Google BigQuery, Snowflake</p></td>
</tr>
<tr class="row-even"><td><p>Data Lakehouse</p></td>
<td><p>Combines features of data lakes and data warehouses, supporting both BI
and machine learning on a single platform, with low-cost storage and
schema enforcement.</p></td>
<td><p>Databricks Lakehouse, Delta Lake on Databricks</p></td>
</tr>
<tr class="row-odd"><td><p>Delta Lake</p></td>
<td><p>An open-source storage layer that brings reliability to data lakes,
providing ACID transactions, scalable metadata handling, and unifies
streaming and batch data processing.</p></td>
<td><p>Works with Apache Spark, Amazon S3, Azure Data Lake Storage</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="vector-database-a-high-dimensional-playground-for-large-language-models">
<h2><a class="toc-backref" href="#id25" role="doc-backlink">Vector Database (A High-dimensional Playground for Large Language Models)</a><a class="headerlink" href="#vector-database-a-high-dimensional-playground-for-large-language-models" title="Link to this heading">#</a></h2>
<p>A <strong>vector database</strong> is like a database which is a data storage system that
capitalizes on the properties of vectors embeddings. The high-dimensional
vectors stored in these databases embody the features or attributes of data,
which could range from text, images, audio, and video to even more complex
structures. We can have additional metadata to describe the data, but the
vectors are the main focus.</p>
<p>The crucial task of converting raw data to their vector representations
(embeddings) is typically achieved by utilizing machine learning models, word
embedding algorithms, or feature extraction techniques.</p>
<p>For instance, a movie review text can be represented as a high-dimensional
vector via transformer based embedding models. Similarly, an image can be
transformed into a vector representation using deep learning models like
convolutional neural networks (CNNs).</p>
<p>Vector databases deviate from the conventional way databases work. Rather than
retrieving data based on exact matches or predefined criteria, vector databases
empower users to conduct searches based on vector similarity. This facilitates
the retrieval of data that bears semantic or contextual similarity to the query
data, even if they don’t share exact keyword matches.</p>
<p>Consider this example: Given an image of a cat, a vector database can find
images that are visually similar (e.g., other images of cats, or perhaps images
of small, furry animals), even if “cat” isn’t explicitly tagged or described in
the metadata of those images via the vector representations.</p>
<div class="seealso admonition">
<p class="admonition-title">See Also</p>
<p>There are much more to vector databases than what we have covered here. For a
detailed survey on vector databases, you can refer to the following series of
articles:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://thedataquarry.com/posts/vector-db-1/">Vector databases (1): What makes each one different?</a></p></li>
<li><p><a class="reference external" href="https://thedataquarry.com/posts/vector-db-2/">Vector databases (2): Understanding their internals</a></p></li>
<li><p><a class="reference external" href="https://thedataquarry.com/posts/vector-db-3/">Vector databases (3): Not all indexes are created equal</a></p></li>
<li><p><a class="reference external" href="https://thedataquarry.com/posts/vector-db-4/">Vector databases (4): Analyzing the trade-offs</a></p></li>
</ul>
</div>
</section>
<section id="references-and-further-readings">
<h2><a class="toc-backref" href="#id26" role="doc-backlink">References and Further Readings</a><a class="headerlink" href="#references-and-further-readings" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Huyen, Chip. “Chapter 3. Data Engineering Fundamentals.” In Designing
Machine Learning Systems: An Iterative Process for Production-Ready
Applications, O’Reilly Media, Inc., 2022.</p></li>
<li><p>Kleppmann, Martin. “Chapter 2. Data Models and Query Languages.” In
Designing Data-Intensive Applications. Beijing: O’Reilly, 2017.</p></li>
</ul>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="chip-1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id2">2</a>,<a role="doc-backlink" href="#id3">3</a>,<a role="doc-backlink" href="#id4">4</a>)</span>
<p>Huyen, Chip. “Chapter 3. Data Engineering Fundamentals.” In Designing
Machine Learning Systems: An Iterative Process for Production-Ready
Applications, O’Reilly Media, Inc., 2022.</p>
</aside>
</aside>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./operations/machine_learning_lifecycle/03_dataops_pipeline"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="031_data_source_and_format.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Stage 3.1. Data Source and Formats</p>
      </div>
    </a>
    <a class="right-next"
       href="033_etl.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Stage 3.3. Extract, Transform, Load (ETL)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-model">Data Model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-of-a-data-model">Example of a Data Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#relational-model">Relational Model</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#normalization">Normalization</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#imperative-vs-declarative">Imperative vs Declarative</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nosql">NoSQL</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#document-model">Document Model</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#advantages">Advantages</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#disadvantages">Disadvantages</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#graph-model">Graph Model</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#structured-vs-unstructured-data">Structured vs Unstructured Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-storage-engines">Data Storage Engines</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transactional-and-analytical-processing-databases">Transactional And Analytical Processing Databases</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transactional-processing">Transactional Processing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#atomicity-consistency-isolation-durability-acid">Atomicity, Consistency, Isolation, Durability (ACID)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transactional-databases-are-row-major">Transactional Databases Are Row-Major</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analytical-processing">Analytical Processing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-lake-data-warehouse-data-lakehouse-delta-lake">Data Lake, Data Warehouse, Data Lakehouse, Delta Lake</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vector-database-a-high-dimensional-playground-for-large-language-models">Vector Database (A High-dimensional Playground for Large Language Models)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-readings">References and Further Readings</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Gao Hongnan
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>