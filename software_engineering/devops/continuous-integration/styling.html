
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Styling, Formatting, and Linting &#8212; Omniverse</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=bb35926c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../../../_static/tabs.js?v=3ee01567"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-MYW5YKC2WF"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-MYW5YKC2WF');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-MYW5YKC2WF');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'software_engineering/devops/continuous-integration/styling';</script>
    <link rel="canonical" href="https://www.gaohongnan.com/software_engineering/devops/continuous-integration/styling.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Testing" href="testing.html" />
    <link rel="prev" title="Continuous Integration (CI) Workflow" href="concept.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/logo.png" class="logo__image only-light" alt="Omniverse - Home"/>
    <script>document.write(`<img src="../../../_static/logo.png" class="logo__image only-dark" alt="Omniverse - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../intro.html">
                    üåå Omniverse: A Journey Through Knowledge
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Notations</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../notations/machine_learning.html">Machine Learning Notations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Influential Ideas and Papers</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../influential/generative_pretrained_transformer/01_intro.html">Generative Pre-trained Transformers</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../influential/generative_pretrained_transformer/02_notations.html">Notations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../influential/generative_pretrained_transformer/03_concept.html">The Concept of Generative Pre-trained Transformers (GPT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../influential/generative_pretrained_transformer/04_implementation.html">The Implementation of Generative Pre-trained Transformers (GPT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../influential/generative_pretrained_transformer/05_adder.html">Training a Mini-GPT to Learn Two-Digit Addition</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../influential/kmeans/01_intro.html">K-Means</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../influential/kmeans/02_concept.html">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../influential/kmeans/03_implementation.html">Implementation: K-Means (Lloyd)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../influential/kmeans/04_image_segmentation.html">Application: Image Compression and Segmentation</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Playbook</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../playbook/how_to_calculate_flops_in_gpt2.html">How to Calculate the Number of FLOPs in GPT-2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../playbook/how_to_inspect_function_and_class_signatures.html">How to Inspect Function and Class Signatures in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../playbook/why_cosine_annealing_warmup_stabilize_training.html">Why Does Cosine Annealing With Warmup Stabilize Training?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../playbook/why_softmax_preserves_order_translation_invariant_not_invariant_scaling.html">Softmax Preserves Order, Is Translation Invariant But Not Invariant Under Scaling</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Operations</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/00_intro.html">The Lifecycle of an AIOps System</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/01_problem_formulation.html">Stage 1. Problem Formulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/02_project_scoping.html">Stage 2. Project Scoping And Framing The Problem</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/03_dataops_pipeline/03_dataops_pipeline.html">Stage 3. Data Pipeline (Data Engineering and DataOps)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/03_dataops_pipeline/031_data_source_and_format.html">Stage 3.1. Data Source and Formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/03_dataops_pipeline/032_data_model_and_storage.html">Stage 3.2. Data Model and Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/03_dataops_pipeline/033_etl.html">Stage 3.3. Extract, Transform, Load (ETL)</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/04_mlops_data_pipeline.html">Stage 4. Data Extraction (MLOps), Data Analysis (Data Science), Data Preparation (Data Science)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/05_model_development_selection_and_training/05_ml_training_pipeline.html">Stage 5. Model Development and Training (MLOps)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/05_model_development_selection_and_training/051_model_selection.html">Stage 5.1. Model Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/05_model_development_selection_and_training/052_metric_selection.html">Stage 5.2. Metric Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/05_model_development_selection_and_training/053_experiment_tracking.html">Stage 5.3. Experiment Tracking And Versioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../operations/machine_learning_lifecycle/05_model_development_selection_and_training/054_model_testing.html">Stage 5.4. Model Testing</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../operations/distributed/intro.html">Distributed Systems</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../operations/distributed/01_notations.html">Notations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../operations/distributed/02_basics.html">Basics Of Distributed Data Parallelism</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../operations/distributed/03_how_to_setup_slurm_in_aws.html">How to Setup SLURM and ParallelCluster in AWS</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Software Engineering</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../config_management/concept.html">Configuration Management</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../config_management/01-pydra.html">Pydantic And Hydra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config_management/02-state.html">State And Metadata Management</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="concept.html">Continuous Integration (CI) Workflow</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Styling, Formatting, and Linting</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html">Testing</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../design_patterns/dependency-inversion-principle.html">Dependency Inversion Principle</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../concurrency_parallelism_asynchronous/intro.html">Concurrency, Parallelism and Asynchronous Programming</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../concurrency_parallelism_asynchronous/generator_yield.html">A Rudimentary Introduction to Generator and Yield in Python</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../serving/restful_api/intro.html">RESTful API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../serving/restful_api/application_banking.html">Application: Designing a RESTful Banking API with FastAPI and SQLAlchemy</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Computer Science</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../computer_science/type_theory/intro.html">Type Theory, A Very Rudimentary Introduction</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/01-subtypes.html">Subtypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/02-type-safety.html">Type Safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/03-subsumption.html">Subsumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/04-generics.html">Generics and Type Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/05-typevar-bound-constraints.html">Bound and Constraint in Generics and Type Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/06-invariance-covariance-contravariance.html">Invariance, Covariance and Contravariance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/07-pep-3124-overloading.html">Function Overloading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../computer_science/type_theory/08-pep-661-sentinel-values.html">Sentinel Types</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Structures and Algorithms</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../dsa/complexity_analysis/intro.html">Complexity Analysis</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../dsa/complexity_analysis/master_theorem.html">Master Theorem </a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../dsa/stack/intro.html">Stack</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../dsa/stack/concept.html">Concept</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../dsa/searching_algorithms/linear_search/intro.html">Linear Search</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../dsa/searching_algorithms/linear_search/concept.html">Concept</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../dsa/searching_algorithms/binary_search/intro.html">Binary Search</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../dsa/searching_algorithms/binary_search/concept.html">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../dsa/searching_algorithms/binary_search/problems/875-koko-eating-bananas.html">Koko Eating Bananas</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Linear Algebra</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../linear_algebra/01_preliminaries/intro.html">Preliminaries</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/01_preliminaries/01-fields.html">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/01_preliminaries/02-systems-of-linear-equations.html">Systems of Linear Equations</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../linear_algebra/02_vectors/intro.html">Vectors</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/02_vectors/01-vector-definition.html">Vector and Its Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/02_vectors/02-vector-operation.html">Vector and Its Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/02_vectors/03-vector-norm.html">Vector Norm and Distance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linear_algebra/02_vectors/04-vector-products.html">A First Look at Vector Products</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References, Resources and Roadmap</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../citations.html">IEEE (Style) Citations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../api/reproducibility.html">API Reference</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/gao-hongnan/omniverse/blob/main/omniverse/software_engineering/devops/continuous-integration/styling.md" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/gao-hongnan/omniverse" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/gao-hongnan/omniverse/issues/new?title=Issue%20on%20page%20%2Fsoftware_engineering/devops/continuous-integration/styling.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/software_engineering/devops/continuous-integration/styling.ipynb" target="_blank"
   class="btn btn-sm btn-download-notebook-button dropdown-item"
   title="Download notebook file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li><a href="../../../_sources/software_engineering/devops/continuous-integration/styling.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Styling, Formatting, and Linting</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#intuition">Intuition</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linting">Linting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#benefits-of-linting">Benefits of Linting</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#code-quality-assurance">Code Quality Assurance</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reducing-technical-debt">Reducing Technical Debt</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#maintainability-and-scalability">Maintainability and Scalability</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pep8-standard">The PEP8 Standard</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#simple-styling-practices">Simple Styling Practices</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-more-nuanced-example-mutable-default-arguments">A More Nuanced Example: Mutable Default Arguments</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tools">Tools</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#best-practices-for-linting-and-ci-cd-pipeline-integration">Best Practices for Linting and CI/CD Pipeline Integration</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#automate-linting-and-integration-with-ci-cd-pipelines">Automate Linting and Integration with CI/CD Pipelines</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#local-and-ci-environment-consistency">Local and CI Environment Consistency</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-commit-hooks">Pre-Commit Hooks</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#order-in-pipeline">Order in Pipeline</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formatting">Formatting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-the-difference-between-linting-and-formatting">What is the Difference between Linting and Formatting?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Tools</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#best-practices-for-formatting-and-ci-cd-pipeline-integration">Best Practices for Formatting and CI/CD Pipeline Integration</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#where-to-start">Where to Start?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-readings">References and Further Readings</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="styling-formatting-and-linting">
<h1>Styling, Formatting, and Linting<a class="headerlink" href="#styling-formatting-and-linting" title="Link to this heading">#</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#intuition" id="id4">Intuition</a></p></li>
<li><p><a class="reference internal" href="#linting" id="id5">Linting</a></p>
<ul>
<li><p><a class="reference internal" href="#benefits-of-linting" id="id6">Benefits of Linting</a></p>
<ul>
<li><p><a class="reference internal" href="#code-quality-assurance" id="id7">Code Quality Assurance</a></p></li>
<li><p><a class="reference internal" href="#reducing-technical-debt" id="id8">Reducing Technical Debt</a></p></li>
<li><p><a class="reference internal" href="#maintainability-and-scalability" id="id9">Maintainability and Scalability</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#the-pep8-standard" id="id10">The PEP8 Standard</a></p>
<ul>
<li><p><a class="reference internal" href="#simple-styling-practices" id="id11">Simple Styling Practices</a></p></li>
<li><p><a class="reference internal" href="#a-more-nuanced-example-mutable-default-arguments" id="id12">A More Nuanced Example: Mutable Default Arguments</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tools" id="id13">Tools</a></p></li>
<li><p><a class="reference internal" href="#best-practices-for-linting-and-ci-cd-pipeline-integration" id="id14">Best Practices for Linting and CI/CD Pipeline Integration</a></p>
<ul>
<li><p><a class="reference internal" href="#automate-linting-and-integration-with-ci-cd-pipelines" id="id15">Automate Linting and Integration with CI/CD Pipelines</a></p></li>
<li><p><a class="reference internal" href="#local-and-ci-environment-consistency" id="id16">Local and CI Environment Consistency</a></p></li>
<li><p><a class="reference internal" href="#pre-commit-hooks" id="id17">Pre-Commit Hooks</a></p></li>
<li><p><a class="reference internal" href="#order-in-pipeline" id="id18">Order in Pipeline</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#formatting" id="id19">Formatting</a></p>
<ul>
<li><p><a class="reference internal" href="#what-is-the-difference-between-linting-and-formatting" id="id20">What is the Difference between Linting and Formatting?</a></p></li>
<li><p><a class="reference internal" href="#id1" id="id21">Tools</a></p></li>
<li><p><a class="reference internal" href="#best-practices-for-formatting-and-ci-cd-pipeline-integration" id="id22">Best Practices for Formatting and CI/CD Pipeline Integration</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#summary" id="id23">Summary</a></p></li>
<li><p><a class="reference internal" href="#where-to-start" id="id24">Where to Start?</a></p></li>
<li><p><a class="reference internal" href="#references-and-further-readings" id="id25">References and Further Readings</a></p></li>
</ul>
</nav>
<section id="intuition">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Intuition</a><a class="headerlink" href="#intuition" title="Link to this heading">#</a></h2>
<p>Guido Van Rossum, the author of Python, aptly stated, ‚ÄúCode is read more often
than it is written.‚Äù This principle underscores the necessity of both clear
documentation and easy readability in coding. Adherence to style and formatting
conventions, particularly those based on
<a class="reference external" href="https://peps.python.org/pep-0008/">PEP8</a>, plays a vital role in achieving this
goal. Different teams may adopt various conventions, but the key lies in
consistent application and the use of automated pipelines to maintain this
consistency. For instance, standardizing line lengths simplifies code review
processes, making discussions about specific sections more straightforward. In
this context, <strong>linting</strong> and <strong>formating</strong> emerge as critical tools for
maintaining high code quality. Linting, the process of analyzing code for
potential errors, and formatting, which ensures a uniform appearance,
collectively boost <strong>readability</strong> and <strong>maintainability</strong>. A well-styled
codebase not only looks professional but also reduces bugs and eases
<strong>integration</strong> and <strong>code reviews</strong>. These practices, when ingrained as an
<strong>intuition</strong> among developers, lead to more robust and efficient software
development.</p>
</section>
<section id="linting">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Linting</a><a class="headerlink" href="#linting" title="Link to this heading">#</a></h2>
<section id="benefits-of-linting">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Benefits of Linting</a><a class="headerlink" href="#benefits-of-linting" title="Link to this heading">#</a></h3>
<section id="code-quality-assurance">
<h4><a class="toc-backref" href="#id7" role="doc-backlink">Code Quality Assurance</a><a class="headerlink" href="#code-quality-assurance" title="Link to this heading">#</a></h4>
<p>Linting tools, like <a class="reference external" href="https://github.com/pylint-dev/pylint">Pylint</a> for Python,
automatically detect not just syntax errors but also a range of subtle issues
that could lead to bugs. This preemptive detection ensures higher <strong>code
quality</strong> and reliability.</p>
<p>In other words, linting tools help in catching potential issues early, reducing
the likelihood of bugs and errors in the codebase.</p>
</section>
<section id="reducing-technical-debt">
<h4><a class="toc-backref" href="#id8" role="doc-backlink">Reducing Technical Debt</a><a class="headerlink" href="#reducing-technical-debt" title="Link to this heading">#</a></h4>
<p>In many big organizations, there is quality gate to pass if you were to deploy
your code to production. Henceforth, by catching potential issues early, linting
helps in reducing technical debt - the extra development work that arises from
choosing an easy solution now over a better approach that would take longer.</p>
</section>
<section id="maintainability-and-scalability">
<h4><a class="toc-backref" href="#id9" role="doc-backlink">Maintainability and Scalability</a><a class="headerlink" href="#maintainability-and-scalability" title="Link to this heading">#</a></h4>
<p>Linting enforces readability and uniformity, making the codebase easier to
understand and modify. This is crucial for long-term <strong>maintenance</strong> and
<strong>scaling</strong> of the project.</p>
</section>
</section>
<section id="the-pep8-standard">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">The PEP8 Standard</a><a class="headerlink" href="#the-pep8-standard" title="Link to this heading">#</a></h3>
<p>The <a class="reference external" href="https://peps.python.org/pep-0008/">PEP8 guide</a> offers essential coding
conventions.</p>
<section id="simple-styling-practices">
<h4><a class="toc-backref" href="#id11" role="doc-backlink">Simple Styling Practices</a><a class="headerlink" href="#simple-styling-practices" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p><strong>Indentation</strong>: PEP8 recommends 4 spaces per indentation level. While Python
is flexible with indentation size (any consistent <code class="docutils literal notranslate"><span class="pre">k</span></code> spaces), adhering to
the 4-space convention promotes uniformity across the Python community.</p></li>
<li><p><strong>Line Length</strong>: A suggested maximum of 79 characters per line enhances
readability, especially in environments without dynamic wrapping. Different
organizations may vary, but consistency is key. This limit roots in
historical constraints and current practicality.</p></li>
<li><p><strong>Variable Naming</strong>: Readability is crucial. Variables should be descriptive,
making code understandable at a glance. For example, <code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">=</span> <span class="pre">&quot;John&quot;</span></code> is more
descriptive than <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">&quot;John&quot;</span></code>, as it clearly indicates the variable‚Äôs
purpose.</p></li>
<li><p><strong>Import Statements</strong>: Avoid wildcard imports like <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">.src.main</span> <span class="pre">import</span> <span class="pre">*</span></code>.
They obscure the origin of functions, complicating maintenance and
readability. A more complex issue arises with relative imports in a deeply
nested package structure, which can lead to confusion about the source file‚Äôs
location and dependencies.</p></li>
</ol>
</section>
<section id="a-more-nuanced-example-mutable-default-arguments">
<h4><a class="toc-backref" href="#id12" role="doc-backlink">A More Nuanced Example: Mutable Default Arguments</a><a class="headerlink" href="#a-more-nuanced-example-mutable-default-arguments" title="Link to this heading">#</a></h4>
<p>The issue of mutable default arguments in Python demonstrates a subtle yet
significant trap that we encounter. Consider a function <code class="docutils literal notranslate"><span class="pre">add_to_list</span></code> designed
to append an item to a list. When using a default mutable argument like an empty
list (<code class="docutils literal notranslate"><span class="pre">[]</span></code>), the list isn‚Äôt reinitialized on each function call. This results in
unexpected behavior, where subsequent calls to the function without specifying a
list continue to add items to the same list.</p>
<p>To address this, a better practice is to use <code class="docutils literal notranslate"><span class="pre">None</span></code> as the default argument.
Inside the function, check if the argument is <code class="docutils literal notranslate"><span class="pre">None</span></code> and, if so, initialize a
new list. This ensures that each function call operates on a fresh list unless
otherwise specified.</p>
<p>Let‚Äôs see this in action.</p>
<p>Consider the following code snippet:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">TypeVar</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
<span class="linenos">6</span>
<span class="linenos">7</span><span class="k">def</span> <span class="nf">add_to_list</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="n">some_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="p">[])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="linenos">8</span>    <span class="n">some_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="linenos">9</span>    <span class="k">return</span> <span class="n">some_list</span>
</pre></div>
</div>
</div>
</div>
<p>This looks harmless, but if you run the below code, you will see that the
function does not behave as expected:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">list_1</span> <span class="o">=</span> <span class="n">add_to_list</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># [0]</span>
<span class="linenos">2</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;list_1: </span><span class="si">{</span><span class="n">list_1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="n">list_2</span> <span class="o">=</span> <span class="n">add_to_list</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># [0, 1]</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;list_2: </span><span class="si">{</span><span class="n">list_2</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">6</span>
<span class="linenos">7</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;list_1: </span><span class="si">{</span><span class="n">list_1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># [0, 1]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>list_1: [0]
list_2: [0, 1]
list_1: [0, 1]
</pre></div>
</div>
</div>
</div>
<p>Why did <code class="docutils literal notranslate"><span class="pre">list_2</span></code> not return <code class="docutils literal notranslate"><span class="pre">[1]</span></code>? The issue lies in the default argument
<code class="docutils literal notranslate"><span class="pre">some_list:</span> <span class="pre">List[T]</span> <span class="pre">=</span> <span class="pre">[]</span></code>. This default argument is evaluated only once, when
the function is defined, and not every time the function is called. This means
that the same list is used every time the function is called without the
<code class="docutils literal notranslate"><span class="pre">some_list</span></code> argument. This means that if you use a mutable default argument and
mutate it, you will and have mutated that object for all future calls to the
function as well. And if you print <code class="docutils literal notranslate"><span class="pre">list_1</span></code> again after <code class="docutils literal notranslate"><span class="pre">list_2</span></code>, you will see
that <code class="docutils literal notranslate"><span class="pre">list_1</span></code> has also been mutated!</p>
<p>To fix this, you can use <code class="docutils literal notranslate"><span class="pre">None</span></code> as the default argument and then initialize the
list inside the function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">def</span> <span class="nf">add_to_list</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="n">some_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="linenos">2</span>    <span class="k">if</span> <span class="n">some_list</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">3</span>        <span class="n">some_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">4</span>    <span class="n">some_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="linenos">5</span>    <span class="k">return</span> <span class="n">some_list</span>
</pre></div>
</div>
</div>
</div>
<p>Then the function will behave as expected:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">list_1</span> <span class="o">=</span> <span class="n">add_to_list</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># [0]</span>
<span class="linenos">2</span><span class="n">list_2</span> <span class="o">=</span> <span class="n">add_to_list</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># [1]</span>
<span class="linenos">3</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;list_1: </span><span class="si">{</span><span class="n">list_1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">4</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;list_2: </span><span class="si">{</span><span class="n">list_2</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>list_1: [0]
list_2: [1]
</pre></div>
</div>
</div>
</div>
<p>If this goes into <strong>production</strong>, it could lead to a <strong>bug</strong> that is <em>hard</em> to
catch.</p>
</section>
</section>
<section id="tools">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Tools</a><a class="headerlink" href="#tools" title="Link to this heading">#</a></h3>
<p>In the industry, there are a few leading tools:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pylint.pycqa.org/en/latest/index.html">Pylint</a></p></li>
<li><p><a class="reference external" href="https://flake8.pycqa.org/en/latest/">Flake8</a></p></li>
<li><p><a class="reference external" href="https://docs.astral.sh/ruff/">Ruff</a></p></li>
</ul>
<p>Ruff is a new entrant in the market and is gaining popularity due to its speed
as it is written in Rust. Whichever the tool the team choose, the key is to
ensure that it is integrated into the development workflow consistently.</p>
</section>
<section id="best-practices-for-linting-and-ci-cd-pipeline-integration">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Best Practices for Linting and CI/CD Pipeline Integration</a><a class="headerlink" href="#best-practices-for-linting-and-ci-cd-pipeline-integration" title="Link to this heading">#</a></h3>
<section id="automate-linting-and-integration-with-ci-cd-pipelines">
<h4><a class="toc-backref" href="#id15" role="doc-backlink">Automate Linting and Integration with CI/CD Pipelines</a><a class="headerlink" href="#automate-linting-and-integration-with-ci-cd-pipelines" title="Link to this heading">#</a></h4>
<p>Integrating linting into a CI/CD pipeline typically involves the following
steps:</p>
<ol class="arabic simple">
<li><p><strong>Configuration</strong>: Define linting rules in a configuration file. This file is
then placed in the project repository.</p></li>
<li><p><strong>Pipeline Setup</strong>: In the CI/CD system, create a job or stage specifically
for linting. This job will execute whenever a new commit is pushed to the
repository.</p></li>
<li><p><strong>Running Linter</strong>: During the linting stage, the CI/CD system runs the
linter against the codebase using the defined rules.</p></li>
<li><p><strong>Handling Linting Results</strong>: If the linter finds issues, it can fail the
build, preventing further stages (like testing or deployment) until the
issues are resolved.</p></li>
<li><p><strong>Feedback to Developers</strong>: The results of the linting process are reported
back to the developers, usually through the CI/CD system‚Äôs interface or via
notifications.</p></li>
</ol>
<p>This integration ensures that code quality checks are an automated and
consistent part of the development cycle.</p>
</section>
<section id="local-and-ci-environment-consistency">
<h4><a class="toc-backref" href="#id16" role="doc-backlink">Local and CI Environment Consistency</a><a class="headerlink" href="#local-and-ci-environment-consistency" title="Link to this heading">#</a></h4>
<p>The remote Continuous Integration (CI) environment is a safety net and quality
gate for the codebase. This does not mean you should wait for feedback from the
CI environment to fix issues.</p>
<p>Why? Imagine you committed a large piece of code without any regards to the
linting rules. The CI environment will fail, and you will have to fix the issues
and push the code again. Then again, there is no guarantee that the CI
environment will pass. This is a waste of time and resources.</p>
<p>What should you do? You should lint your code locally before pushing it to the
remote repository. This will ensure that the CI environment will pass, and you
will not have to wait for feedback from the CI environment.</p>
<p>Consequently, it is essential to maintain consistency between the local
development environment and the CI environment. This consistency ensures that
the code behaves consistently across different setups. In other words, the lint
rules defined locally should be the same as those defined in the CI environment.
One source of truth is the mantra that should be followed, if not, a rule
defined in CI which is not defined locally may fail the build. Conversely, a
locally defined rule A might not be defined in the CI environment, leading to a
false sense of security.</p>
</section>
<section id="pre-commit-hooks">
<h4><a class="toc-backref" href="#id17" role="doc-backlink">Pre-Commit Hooks</a><a class="headerlink" href="#pre-commit-hooks" title="Link to this heading">#</a></h4>
<p>Pre-commit hooks are scripts that run before a commit is made. They are a
powerful tool for ensuring that code quality checks are performed before
commits. This can include linting, formatting, and other checks such as testing.
This is a good to have as it injects some sort of discipline and automation into
the local development environment.</p>
</section>
<section id="order-in-pipeline">
<h4><a class="toc-backref" href="#id18" role="doc-backlink">Order in Pipeline</a><a class="headerlink" href="#order-in-pipeline" title="Link to this heading">#</a></h4>
<p>In a CI/CD pipeline, the typical sequence is to lint first, then format, and
finally run unit tests. Linting first helps catch syntax errors and code smells
early, reducing the likelihood of these issues causing test failures. Formatting
next ensures code consistency, and finally, unit tests validate the
functionality. This order optimizes the build process, catching errors
efficiently and maintaining code quality.</p>
</section>
</section>
</section>
<section id="formatting">
<h2><a class="toc-backref" href="#id19" role="doc-backlink">Formatting</a><a class="headerlink" href="#formatting" title="Link to this heading">#</a></h2>
<p>What is formatting? Formatting is the process of ensuring that the codebase
adheres to a consistent style/format. This includes indentation, line length and
spacing, among other things. The goal is to make the codebase more readable and
maintainable. This will reduce friction in code reviews. Imagine the frustration
if developer A uses a 120 character line length and developer B uses 80
characters. They will not be in sync with each other.</p>
<section id="what-is-the-difference-between-linting-and-formatting">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">What is the Difference between Linting and Formatting?</a><a class="headerlink" href="#what-is-the-difference-between-linting-and-formatting" title="Link to this heading">#</a></h3>
<p>The difference might be nuanced and isn‚Äôt clear. The tagline, <strong>linters for
catching errors and quality, formatters to fix code formatting style</strong> can be
demonstrated with an example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">add_to_list_and_purposely_make_the_list_very_very_very_long</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="n">some_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="p">[])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
    <span class="n">some_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">some_list</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Our linter will complain something like ‚ÄúMutable default argument‚Äù as this
is a potential bug. This is where our linter such as <code class="docutils literal notranslate"><span class="pre">ruff</span></code> or <code class="docutils literal notranslate"><span class="pre">pylint</span></code> will
come into play. The linter will suggest to you to take action but won‚Äôt take
action for you. Furthermore, a formatter such as <code class="docutils literal notranslate"><span class="pre">black</span></code> won‚Äôt catch this
issue because they are not designed to catch such issues.</p></li>
<li><p>Our linter and formatter will also see another glaring issue, that is the
<code class="docutils literal notranslate"><span class="pre">if</span></code> line is too long, exceeding the <code class="docutils literal notranslate"><span class="pre">PEP8</span></code> standard of <span class="math notranslate nohighlight">\(79\)</span> length. Both
<code class="docutils literal notranslate"><span class="pre">black</span></code> and <code class="docutils literal notranslate"><span class="pre">ruff</span></code> will tell us this, but <code class="docutils literal notranslate"><span class="pre">black</span></code> will perform an
<strong>in-place</strong> treatment, formatting the code on the go for you, whereas
<code class="docutils literal notranslate"><span class="pre">ruff</span></code> will just tell you.</p></li>
</ul>
<p>Therefore, the coding world generally uses a formatter (<code class="docutils literal notranslate"><span class="pre">black</span></code>) and a linter
(<code class="docutils literal notranslate"><span class="pre">ruff</span></code>) in tandem.</p>
</section>
<section id="id1">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Tools</a><a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>In the industry, there are a few leading tools:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://black.readthedocs.io/en/stable/">Black</a></p></li>
<li><p><a class="reference external" href="https://docs.astral.sh/ruff/">Ruff</a></p></li>
</ul>
<p>Interestingly, <code class="docutils literal notranslate"><span class="pre">ruff</span></code> serves as both a linter and a formatter, so we can have an
all in one package. However, <code class="docutils literal notranslate"><span class="pre">black</span></code> seems to be the most popular formatter in
the Python and generally, more matured.</p>
<p>Many teams also add in <code class="docutils literal notranslate"><span class="pre">isort</span></code> to sort the imports. This is a good practice as
it makes the imports more readable.</p>
</section>
<section id="best-practices-for-formatting-and-ci-cd-pipeline-integration">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">Best Practices for Formatting and CI/CD Pipeline Integration</a><a class="headerlink" href="#best-practices-for-formatting-and-ci-cd-pipeline-integration" title="Link to this heading">#</a></h3>
<p>In general, the best practices for formatting are similar to those for linting.
The key is to ensure that the formatting tool is integrated into the development
workflow consistently.</p>
</section>
</section>
<section id="summary">
<h2><a class="toc-backref" href="#id23" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">#</a></h2>
<p>In the realm of software development, styling, formatting, and linting serve as
foundational practices to ensure code quality, readability, and maintainability.
<strong>Linting</strong> plays a critical role in identifying potential errors and code
smells early in the development cycle, promoting higher code quality and
reducing technical debt. On the other hand, <strong>formatting</strong> focuses on the
aesthetic aspects of the code, adhering to conventions that make the codebase
uniformly readable and easier to maintain.</p>
<p>Integrating these practices into a <strong>CI/CD pipeline</strong> enhances the automation
cycle, allowing for consistent code quality checks with each commit or build.
Linters check for syntax errors and potential bugs, while formatters ensure the
code adheres to style guidelines, both acting before unit tests in the pipeline
to catch and correct issues early, streamlining development, and deployment
processes. This integration is important in maintaining a high standard of code
quality throughout the software development lifecycle.</p>
<p>Frequent code commits and daily integration are crucial practices for reducing
conflicts and fostering collaboration within development teams. Regularly
committing code minimizes the risk of large-scale conflicts and promotes early
detection and resolution of minor issues. This approach enhances transparency,
facilitates progress tracking, and encourages team communication, ultimately
leading to a more cohesive and productive development process<a class="footnote-reference brackets" href="#id3" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
</section>
<section id="where-to-start">
<h2><a class="toc-backref" href="#id24" role="doc-backlink">Where to Start?</a><a class="headerlink" href="#where-to-start" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/pytorch/pytorch/blob/main/pyproject.toml">PyTorch</a></p></li>
<li><p><a class="reference external" href="https://github.com/openai/openai-python/blob/main/pyproject.toml">OpenAI</a></p></li>
<li><p><a class="reference external" href="https://github.com/tiangolo/fastapi/blob/master/pyproject.toml">FastAPI</a></p></li>
</ul>
</section>
<section id="references-and-further-readings">
<h2><a class="toc-backref" href="#id25" role="doc-backlink">References and Further Readings</a><a class="headerlink" href="#references-and-further-readings" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://microsoft.github.io/code-with-engineering-playbook/continuous-integration/#code-style-checks">Code Style Checks - Microsoft</a></p></li>
<li><p><a class="reference external" href="https://microsoft.github.io/code-with-engineering-playbook/code-reviews/recipes/python/#code-analysis-linting">Code Analysis Linting - Microsoft</a></p></li>
<li><p><a class="reference external" href="https://taiyr.me/what-is-the-difference-between-code-linters-and-formatters">Differences between code linters and formatters</a></p></li>
<li><p><a class="reference external" href="https://medium.com/&#64;awesomecode/format-code-vs-and-lint-code-95613798dcb3">Format Code vs Lint Code</a></p></li>
<li><p><a class="reference external" href="https://peps.python.org/pep-0008/">PEP8 guide</a></p></li>
<li><p><a class="reference external" href="https://ljvmiranda921.github.io/notebook/2018/06/21/precommits-using-black-and-flake8/">Pre-commits Styling</a></p></li>
</ul>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://microsoft.github.io/code-with-engineering-playbook/continuous-integration/#deliver-quickly-and-daily">Deliver Quickly and Daily - Microsoft</a></p>
</aside>
</aside>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./software_engineering/devops/continuous-integration"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="concept.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Continuous Integration (CI) Workflow</p>
      </div>
    </a>
    <a class="right-next"
       href="testing.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Testing</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#intuition">Intuition</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linting">Linting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#benefits-of-linting">Benefits of Linting</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#code-quality-assurance">Code Quality Assurance</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reducing-technical-debt">Reducing Technical Debt</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#maintainability-and-scalability">Maintainability and Scalability</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pep8-standard">The PEP8 Standard</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#simple-styling-practices">Simple Styling Practices</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-more-nuanced-example-mutable-default-arguments">A More Nuanced Example: Mutable Default Arguments</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tools">Tools</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#best-practices-for-linting-and-ci-cd-pipeline-integration">Best Practices for Linting and CI/CD Pipeline Integration</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#automate-linting-and-integration-with-ci-cd-pipelines">Automate Linting and Integration with CI/CD Pipelines</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#local-and-ci-environment-consistency">Local and CI Environment Consistency</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-commit-hooks">Pre-Commit Hooks</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#order-in-pipeline">Order in Pipeline</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formatting">Formatting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-the-difference-between-linting-and-formatting">What is the Difference between Linting and Formatting?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Tools</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#best-practices-for-formatting-and-ci-cd-pipeline-integration">Best Practices for Formatting and CI/CD Pipeline Integration</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#where-to-start">Where to Start?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-readings">References and Further Readings</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Gao Hongnan
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>